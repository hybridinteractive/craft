.top-bar {
    background-color: transparent;
    height: 100%;
    &.expanded {
        height: 100vh!important;
    	overflow: scroll;
        background-color: $dk-gray;
        padding-bottom: 100px;

        .main-navbar {
            padding-bottom: 100px!important;
        }
    }
    &.fixed {
        position: fixed;
    }
    .toggle-topbar.menu-icon {
        background: $primary-color;
        position: relative;
        width: rem-calc(80);
        float: right;
        margin-top: 0;
        top: 0;
        right: auto;
        z-index: 2;
        height: $medium-navbar-height;
        &:before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            background-color: $primary-color;
            width: rem-calc(55);
            left: rem-calc(-26);
            @include skew(-30deg, 0deg);
        }
        a {
            padding: rem-calc(20 12 0 15);
            height: $medium-navbar-height;
            span {
                background-image: url('/images/mobile-nav-toggle.png');
                height: rem-calc(36);
                width: rem-calc(50);
                display: block;
                margin-top: rem-calc(17);
                &:after {
                    box-shadow: none;

                }
            }
        }
    }
    &.expanded .title-area,
    .title-area {
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzM3MzMzMiIgc3RvcC1vcGFjaXR5PSIwLjkiLz4KICAgIDxzdG9wIG9mZnNldD0iNDklIiBzdG9wLWNvbG9yPSIjMjAxZTFlIiBzdG9wLW9wYWNpdHk9IjAuOSIvPgogICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiMyMDFlMWUiIHN0b3Atb3BhY2l0eT0iMSIvPgogICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMjAxZTFlIiBzdG9wLW9wYWNpdHk9IjEiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9InVybCgjZ3JhZC11Y2dnLWdlbmVyYXRlZCkiIC8+Cjwvc3ZnPg==);

        background: -moz-linear-gradient(to top,  rgba(55,51,50,0.9) 0%, rgba(32,30,30,0.9) 39%, rgba(32,30,30,1) 40%, rgba(32,30,30,1) 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, to left top, to left bottom, color-stop(0%,rgba(55,51,50,0.9)), color-stop(39%,rgba(32,30,30,0.9)), color-stop(40%,rgba(32,30,30,1)), color-stop(100%,rgba(32,30,30,1))); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(to top,  rgba(55,51,50,0.9) 0%,rgba(32,30,30,0.9) 39%,rgba(32,30,30,1) 40%,rgba(32,30,30,1) 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(to top,  rgba(55,51,50,0.9) 0%,rgba(32,30,30,0.9) 39%,rgba(32,30,30,1) 40%,rgba(32,30,30,1) 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(to top,  rgba(55,51,50,0.9) 0%,rgba(32,30,30,0.9) 39%,rgba(32,30,30,1) 40%,rgba(32,30,30,1) 100%); /* IE10+ */
        background: linear-gradient(to bottom,  rgba(55,51,50,0.9) 0%,rgba(32,30,30,0.9) 39%,rgba(32,30,30,1) 40%,rgba(32,30,30,1) 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e6373332', endColorstr='#201e1e',GradientType=0 ); /* IE6-8 */
    }


    @media #{$medium-only} {
        .toggle-topbar.menu-icon {
            display: block;
            position: relative;
            right: 0;
            top: 0;
        }
        .title-area {
            width: 100%;
        }
        .main-navbar {
            position: absolute;
            right: 0;
            top: $medium-navbar-height;
            max-height: 0;
            overflow: hidden;
            @include transition(max-height, .5s);
        }
        &.expanded {
            .main-navbar {
                max-height: rem-calc(1000);
            }
        }
        #keyword {
            top: 0;
        }
        .main-nav-item {
            width: 100%;
        }
        .top-bar-section .has-dropdown {
            position: relative;
            > a {
                width: 80%;
            }
            .dropdown-toggle {
                position: absolute;
                right: rem-calc(20);
                top: rem-calc(25);
                border: 8px solid transparent;
                border-top-color: #fff;
                cursor: pointer;
            }

            > .dropdown {
                margin-top: 0;
                position: static !important;
                background: transparent;
                max-height: 0;
                @include transition(max-height, 0.3s);
                li {
                    padding-left: rem-calc(50);
                }
            }
            &.open {
                .dropdown-toggle {
                    border-top-color: transparent;
                    border-bottom-color: #fff;
                    top: rem-calc(15);
                }
                > .dropdown {
                    max-height: rem-calc(1000) !important;
                    height: 100%;
                    opacity: 1;
                    display: block;
                }
                &:hover {
                    > .dropdown {
                        position: static !important;
                    }
                }
            }
        }
        .parent-link {
            display: none !important;
        }
        .head-item {
            display: block;
            width: 100%;
            .head-link {
                line-height: 3 !important;
            }
        }
    }
    @media #{$large-only} {
        height: rem-calc(94);
    }
    @media #{$xlarge-up} {
        height: rem-calc(117);
    }
    @media print {
        width: 100% !important;
        .title-area {
            width: 100% !important;
            background-color: #2f2d25;
        }
        .toggle-topbar.menu-icon {
            display: none;
        }
    }
}